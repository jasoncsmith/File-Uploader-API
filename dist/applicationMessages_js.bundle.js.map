{"version":3,"file":"applicationMessages_js.bundle.js?ver=882dcf4542224f978fa7","mappings":"6HA0DA,UAxDqB,WACjB,MAAMA,EAAWC,EAAGC,gBAAgB,IAC9BC,EAAW,IACXC,EAAKH,EAAGI,QAYd,SAASC,IACLN,EAASO,WACb,CAEA,SAASC,EAAOC,GACZA,EAAQC,kBAAiB,GACzBC,WAAWX,EAASQ,OAAOI,KAAKZ,EAAUS,GAAU,IACxD,CAEA,SAASI,EAAIC,GAGT,IAAIC,EAtBR,SAAgBD,GAGZ,OAFAA,EAAUA,GAAW,CAAC,EAEf,CACHE,KAAMf,EAAGgB,WAAY,eAAcH,EAAQE,QAC3CE,QAASjB,EAAGgB,WAAWH,EAAQI,SAAW,IAC1CR,iBAAkBT,EAAGgB,YAAW,GAAME,OAAO,CAAEC,OAAQ,WAE/D,CAcqBC,CAFjBP,EAAUA,GAAW,CAAC,GAItBd,EAASsB,KAAKP,GAETD,EAAQS,cACTZ,WAAWH,EAAOI,KAAK,KAAMG,GAAaD,EAAQX,UAAYA,EAEtE,CAYA,MAAO,CACHH,WACAM,QACAE,SACAK,MACAW,WAfJ,WACIpB,EAAGqB,UAAU,0BAA2BZ,GACxCT,EAAGqB,UAAU,6BAA8BjB,GAC3CJ,EAAGqB,UAAU,4BAA6BnB,EAC9C,EAYIoB,QAVJ,WACIpB,GACJ,EAUJ,C","sources":["webpack://appLaunch/./src/components/applicationMessages/applicationMessages.js"],"sourcesContent":["import './applicationMessages.scss';\n\nconst AppMessaging = function () {\n    const messages = ko.observableArray([]);\n    const duration = 5000;\n    const kp = ko.postbox;\n\n    function create(options) {\n        options = options || {};\n\n        return {\n            type: ko.observable(`message--is-${options.type}`),\n            content: ko.observable(options.content || ''),\n            removedAnimation: ko.observable(true).extend({ notify: 'always' })\n        };\n    }\n\n    function clear() {\n        messages.removeAll();\n    }\n\n    function remove(message) {\n        message.removedAnimation(true);\n        setTimeout(messages.remove.bind(messages, message), 300); // wait until animation is finished\n    }\n\n    function add(options) {\n        options = options || {};\n\n        var newMessage = create(options);\n\n        messages.push(newMessage);\n\n        if (!options.isPersistant) {\n            setTimeout(remove.bind(null, newMessage), options.duration || duration);\n        }\n    }\n\n    function initialize() {\n        kp.subscribe('add-application-message', add);\n        kp.subscribe('remove-application-message', remove);\n        kp.subscribe('clear-application-message', clear);\n    }\n\n    function destroy() {\n        clear();\n    }\n\n    return {\n        messages,\n        clear,\n        remove,\n        add,\n        initialize,\n        destroy\n    };\n};\n\nexport default AppMessaging;\n"],"names":["messages","ko","observableArray","duration","kp","postbox","clear","removeAll","remove","message","removedAnimation","setTimeout","bind","add","options","newMessage","type","observable","content","extend","notify","create","push","isPersistant","initialize","subscribe","destroy"],"sourceRoot":""}